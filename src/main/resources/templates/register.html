<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ユーザー登録ページ</title>
</head>
<body>
    <h2>ユーザー登録</h2>
    <!--th:object="${users}" コントローラから渡されたusersオブジェクトを参照していることを確認する。ないとエラー！-->
    <form th:action="@{/register}" th:object="${users}" method="post">
        <label for="username">ユーザー名：</label>
        <!--th:field="*{username}" どのフィールドなのか指定する-->
        <input type="text" id="username" name="username" th:field="*{username}" required />
        <!--th:errors="*{username}" エラーが出た際に、ここに表示される-->
        <span class="error" th:errors="*{username}"></span>
        <label for="email">メールアドレス:</label>
        <input type="email" id="email" name="email" th:field="*{email}" required />
        <span class="error" th:errors="*{email}"></span>
        <br/>
        <label for="password">パスワード:</label>
        <input type="password" id="password" name="password" th:field="*{password}" required />
        <span class="error" th:if="${passwordfail}" th:text="${passwordfail}"></span>
        <span class="error" th:errors="*{password}"></span>
        <br/>
        <button type="submit">登録</button>
    </form>

    <p th:if="${success}" th:text="${success}" style="color: green;"></p>
    <p th:if="${error}" th:text="${error}" style="color: red;"></p>

    <a th:href="@{/login}">ログイン画面へ</a>
</body>
</html>
